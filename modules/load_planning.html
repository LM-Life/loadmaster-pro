<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loadmaster Pro | LOAD PLANNING</title>
  <!-- Uses your shared styles if present; safe to omit if you don't have styles.css -->
  <link rel="stylesheet" href="../style.css" />
    <script src="../common.js" defer></script>
</head>
<body>
  <div class="container loadplanning-module">
  <a class="home-button" href="../index.html">üè† Home</a>
  
  <h1>LOAD PLANNING</h1>

  
    <div class=\"card\"><!-- Operating (Basic Aircraft) -->
  <div class="section">
    <h3>Operating (Basic Aircraft)</h3>
    <div class="grid-2">
      <div>
        <label for="opWeight">Operating Weight (lbs)</label>
        <input type="text" id="opWeight" inputmode="numeric" pattern="[0-9]*" placeholder="e.g., 270000">
      </div>
      <div>
        <label for="opMom10k">Operating MOM / 10,000</label>
        <input type="text" id="opMom10k" inputmode="numeric" pattern="[0-9]*" placeholder="e.g., 21500">
      </div>
    </div>
    <p class="muted">Tip: If you only know Operating CG, multiply by Operating Weight and divide by 10,000 to get MOM/10,000.</p>
  </div>

  <!-- Payload items -->
  <div class="section">
    <h3>Payload Items</h3>
    <p class="muted">Enter Left, <b>Center</b>, Right, and Station. Weight auto-sums (Left + Center + Right). MOM/10,000 is computed.</p>
    <table id="payloadTable">
      <thead>
        <tr>
          <th>#</th>
          <th>Left (lbs)</th>
          <th>Center (lbs)</th>
          <th>Right (lbs)</th>
          <th>Station (in)</th>
          <th>Weight (lbs)</th>
          <th>MOM / 10,000</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="payloadBody"></tbody>
      <tfoot>
        <tr>
          <th colspan="5">Totals:</th>
          <th id="totalWeight">0</th>
          <th id="totalMom10k">0</th>
          <th></th>
        </tr>
      </tfoot>
    </table>
    <div>
      <button>+ Add Row</button>
      <button class="btn-danger">Clear All</button>
    </div>
  </div>

  <!-- Computed -->
  <div class="section">
    <h3>Results</h3>
    <div class="grid-2">
      <div>
        <label>Load CB (in)</label>
        <input type="text" id="loadCB" readonly>
      </div>
      <div>
        <label>Total Payload (lbs)</label>
        <input type="text" id="payloadTotal" readonly>
      </div>
      <div>
        <label>Zero Fuel CG (in)</label>
        <input type="text" id="zfCG" readonly>
      </div>
      <div>
        <label>Zero Fuel %MAC</label>
        <input type="text" id="zfMAC" readonly>
      </div>
    </div>
    <div id="limitsBadge"></div>
  </div>

  <!-- Envelope (Non-E/R) -->
  <div class="section">
    <h3>Cargo Weight Loading Envelope ‚Äî Non-E/R</h3>
    <p class="muted">Checks <b>Load CB</b> against the Non-E/R envelope. Paste anchor points from the TO as CSV (<code>payload,fwdFS,aftFS</code>). Linear interpolation between points.</p>

    <div class="grid-3">
      <div>
        <label for="envPayload">Payload to Check (auto-filled)</label>
        <input type="text" id="envPayload" readonly>
      </div>
      <div>
        <label for="envFwd">Forward Limit (FS)</label>
        <input type="text" id="envFwd" readonly>
      </div>
      <div>
        <label for="envAft">Aft Limit (FS)</label>
        <input type="text" id="envAft" readonly>
      </div>
    </div>

    <div id="envBadge"></div>

    <h4>Envelope Points</h4>
    <textarea id="envCSV" spellcheck="false" class="muted" placeholder="Example:
45000,616,945
# Add more lines here from the TO chart"></textarea>
    <div>
      <button>Load/Update Envelope</button>
      <button>Reset to Example</button>
    </div>
  </div>
    </div>
  </div>
  <script src="../js/load_planning.js"></script>
</body>
</html>
